- defaults:
    link:
      relink: true
      create: true
      force: true
    shell:
      stdin: true
      stdout: true
      stderr: true
- clean:
    ~/.config:
      recursive: true
- link:
    # Fish
    ~/.config/fish/config.fish: fish/config.fish
    ~/.config/fish/fishfile: fish/fishfile
    ~/.config/fish/aliases.fish: fish/aliases.fish
    ~/.config/fish/functions/_multicd.fish: fish/functions/_multicd.fish
    ~/.config/fish/functions/envsource.fish: fish/functions/envsource.fish
    # vim
    # ~/.vim: vim/
    ~/.vimrc: .vimrc
    ~/.vim/autoload/plug.vim: vim/autoload/plug.vim
    # Git
    ~/.config/git/:
      path: git/*
      glob: true
    ~/.config/brewfile/Brewfile:
      path: brew/Brewfile
- shell:
    - command: brew update
    - command: brew upgrade
    - command: brew upgrade --cask
    - command: brew bundle install --file=~/.config/brewfile/Brewfile
    # asdf
    - command: mkdir -p ~/.config/fish/completions
    - command: asdf completion fish > ~/.config/fish/completions/asdf.fish
    # fisher
    - command: fish -c "curl -sL https://git.io/fisher | source && fisher install jorgebucaran/fisher"
    # rustup
    - command: rustup-init -y
    - command: rustup completions fish > ~/.config/fish/completions/rustup.fish
